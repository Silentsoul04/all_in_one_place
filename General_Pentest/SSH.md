SSH

## Use private key

- A private SSH key is always a good place to start. We know that there’s a user called roosa and therefore her SSH key would be at a location ```/home/roosa/.ssh/id_rsa```

- All there’s left to do now is to save the roosa's key file, and use it to log into ssh.

- Make sure you chmod the key to 600 permissions 

- ```ssh roosa@<IP> -i <roosa's key>```


---

## Connection dropped


- If connection immediately drops, it's probably because of the .bashrc. Move it by chaining a command : ```ssh user@ip ‘mv ~/.bashrc whatever’```

- Note that it is possible to execute everything at that moment !!

--- 

## Use public key


- The following command will retrieve the public key from a private key:

```ssh-keygen -y -f /path/to/your_private_key_file (eg. /root/.ssh/id_rsa or ~/.ssh/custom_key_name)```

- Then copy this public key in authorized keys file of the victim, and connect with the private key

---

## Permissions on .ssh directory

```
700 ~/.ssh
600 ~/.ssh/authorized_keys
```

